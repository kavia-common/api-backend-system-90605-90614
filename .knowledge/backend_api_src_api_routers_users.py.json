{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints related to user management, including creating, listing, retrieving, updating, and deleting users. It uses FastAPI's routing and Pydantic models for request validation and response formatting. The data is stored in-memory for demonstration purposes.", "external_files": ["fastapi"], "external_methods": ["fastapi.APIRouter", "fastapi.HTTPException", "fastapi.status", "pydantic.BaseModel", "pydantic.EmailStr", "pydantic.Field"], "published": ["router"], "classes": [{"name": "UserBase", "description": "Base model with common user fields like email and full name."}, {"name": "UserCreate", "description": "Model for user creation payload, extending UserBase and adding password."}, {"name": "UserUpdate", "description": "Model for updating user fields, allowing optional full name and password."}, {"name": "User", "description": "Model representing user data returned to clients, including ID and email, excluding raw password."}], "methods": [{"name": "int _get_next_id()", "description": "Generates a new unique user ID in the in-memory store.", "scope": "", "scopeKind": ""}, {"name": "User create_user(payload: UserCreate)", "description": "Creates and stores a new user, checking for email uniqueness, and returns the user details.", "scope": "", "scopeKind": ""}, {"name": "List[User] list_users()", "description": "Returns a list of all users without sensitive information.", "scope": "", "scopeKind": ""}, {"name": "User get_user(user_id: int)", "description": "Retrieves a user by ID; raises 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "User update_user(user_id: int, payload: UserUpdate)", "description": "Updates user fields such as full name and password; raises 404 if user does not exist.", "scope": "", "scopeKind": ""}, {"name": "None delete_user(user_id: int)", "description": "Deletes the specified user; raises 404 if the user does not exist.", "scope": "", "scopeKind": ""}], "calls": ["HTTPException", "status.HTTP_201_CREATED", "status.HTTP_204_NO_CONTENT"], "search-terms": ["FastAPI user router", "user management API", "in-memory user store", "CRUD user endpoints", "User Pydantic models", "user ID generator"], "state": 2, "file_id": 6, "knowledge_revision": 14, "git_revision": "", "ctags": [{"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^class User(UserBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserBase", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^class UserBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserCreate", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^class UserCreate(UserBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserUpdate", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^class UserUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_IN_MEMORY_USERS", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^_IN_MEMORY_USERS = {}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_NEXT_ID", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^_NEXT_ID = 1$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_get_next_id", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^def _get_next_id() -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "create_user", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^def create_user(payload: UserCreate) -> User:$/", "language": "Python", "typeref": "typename:User", "kind": "function", "signature": "(payload: UserCreate)"}, {"_type": "tag", "name": "delete_user", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^def delete_user(user_id: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(user_id: int)"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^    email: EmailStr = Field(..., description=\"User email address (unique).\")$/", "language": "Python", "typeref": "typename:EmailStr", "kind": "variable", "scope": "UserBase", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^    full_name: Optional[str] = Field(None, description=\"Full name of the user.\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserBase", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^    full_name: Optional[str] = Field(None, description=\"Updated full name.\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "get_user", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^def get_user(user_id: int) -> User:$/", "language": "Python", "typeref": "typename:User", "kind": "function", "signature": "(user_id: int)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^    id: int = Field(..., description=\"User ID.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "list_users", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^def list_users() -> List[User]:$/", "language": "Python", "typeref": "typename:List[User]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^    password: Optional[str] = Field(None, min_length=6, description=\"Updated password.\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^    password: str = Field(..., min_length=6, description=\"User password (min length 6).\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_user", "path": "/home/kavia/workspace/code-generation/api-backend-system-90605-90614/backend_api/src/api/routers/users.py", "pattern": "/^def update_user(user_id: int, payload: UserUpdate) -> User:$/", "language": "Python", "typeref": "typename:User", "kind": "function", "signature": "(user_id: int, payload: UserUpdate)"}], "hash": "b5e26a2d455984ca0edc96ca4df28b82", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/api/routers/users.py", "fields": [{"name": "_IN_MEMORY_USERS = {}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_NEXT_ID = 1", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "EmailStr email", "scope": "UserBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] full_name", "scope": "UserBase", "scopeKind": "class", "description": "unavailable"}, {"name": "int id", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] password", "scope": "UserUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str password", "scope": "UserCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"14": ""}]}